<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="utf-8">
<title>Planetary Air Pollution</title>

<script src="https://cesium.com/downloads/cesiumjs/releases/1.115/Build/Cesium/Cesium.js"></script>
<link href="https://cesium.com/downloads/cesiumjs/releases/1.115/Build/Cesium/Widgets/widgets.css" rel="stylesheet"/>

<style>
html, body, #cesiumContainer {
    width: 100%;
    height: 100%;
    margin: 0;
    background: black;
    overflow: hidden;
}
#panel {
    position: absolute;
    top: 10px;
    left: 10px;
    background: rgba(0,0,0,0.6);
    color: #eee;
    padding: 10px;
    border-radius: 6px;
    font-size: 14px;
}
</style>
</head>

<body>
<div id="cesiumContainer"></div>
<div id="panel">
<label><input type="checkbox" id="air"> Забруднення повітря (Aerosol)</label>
</div>

<script>
Cesium.Ion.defaultAccessToken = null;

// =================== VIEWER ===================
const viewer = new Cesium.Viewer("cesiumContainer", {
    baseLayerPicker: false,
    geocoder: false,
    animation: false,
    timeline: false,
    sceneModePicker: false,
    navigationHelpButton: false,
    fullscreenButton: false
});

// =================== BASE EARTH ===================
viewer.imageryLayers.addImageryProvider(
    new Cesium.TileMapServiceImageryProvider({
        url: Cesium.buildModuleUrl('Assets/Textures/NaturalEarthII')
    })
);
viewer.scene.globe.enableLighting = true;

// =================== AIR POLLUTION LAYER ===================
const airLayer = viewer.imageryLayers.addImageryProvider(
    new Cesium.WebMapTileServiceImageryProvider({
        url: "https://gibs.earthdata.nasa.gov/wmts/epsg4326/best/wmts.cgi",
        layer: "MODIS_Terra_Aerosol",
        style: "",
        tileMatrixSetID: "2km",
        format: "image/png",
        maximumLevel: 6
    })
);
airLayer.show = false;

// =================== UI ===================
document.getElementById("air").onchange = e => airLayer.show = e.target.checked;

// =================== CAMERA ===================
viewer.camera.flyTo({
    destination: Cesium.Cartesian3.fromDegrees(20, 40, 20000000)
});
</script>
</body>
</html>
